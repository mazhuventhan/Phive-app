@import url(https://unpkg.com/normalize.css);
@import url(https://unpkg.com/open-props/normalize.min.css);
@import url(https://unpkg.com/open-props/open-props.min.css);

header,
section {
    display: grid;
    min-height: 100vh;
    position: relative
}

section img,
section:nth-of-type(2n) p {
    grid-column: 1
}

.char,
.letter,
.sticky-title span {
    display: inline-block
}

@font-face {
    font-family: Ppformula;
    src: url("./assets/fonts/PPFormula-Light.otf") format('truetype');
    font-display: swap
}

*,
:after,
:before {
    box-sizing: border-box
}

body {
    font-family: Ppformula;
    background: var(--surface-2);
    overflow-x: hidden
}

:root {
    --content: 66ch;
    --gutter: 1rem;
    --gap: 0rem
}

header,
main {
    width: var(--content);
    max-width: calc(100vw - (2 * var(--gutter)));
    margin: 0 auto
}

header {
    align-content: center
}

h1 {
    font-weight: 900;
    font-family: impact;
    font-size: calc(var(--font-size-fluid-3) * 2.5);
    line-height: 1
}

.sticky-title {
    width: auto;
    max-width: none;
    margin: 0;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 100;
    text-align: center;
    transition: opacity .3s, visibility .3s
}

.char,
.sr-only,
header img,
section::after {
    position: absolute
}

.sticky-title span {
    color: #ff0;
    transition: opacity .15s ease-in-out
}

.sr-only {
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0
}

header img {
    left: 25%;
    top: 15%;
    z-index: 1;
    opacity: .65;
    filter: saturate(.5)
}

section {
    gap: var(--gutter);
    grid-template-columns: auto 1fr;
    align-items: center;
    --x: -100%
}

p:first-line {
    text-transform: uppercase;
    font-weight: 700
}

section p {
    z-index: 2;
    background: hsl(210 17% 98% / .65);
    padding: 1rem;
    color: var(--text-1);
    backdrop-filter: blur(4px);
    font-size: 1rem;
    --x: 0;
    --y: 50%;
    view-timeline: --item;
    animation: ease-out both item-reveal;
    animation-timeline: --item;
    animation-delay: cover 35%;
    animation-range: cover 35% cover 50%;
    position: sticky;
    bottom: 40%
}

@media(prefers-color-scheme:dark) {
    section p {
        background: hsl(210 11% 15% / .65)
    }
}

section img {
    width: 190px;
    max-width: 20vw;
    height: 260px;
    scale: 1.5;
    view-timeline: --item;
    animation: ease-in both item-reveal;
    animation-timeline: --item;
    animation-delay: cover 10%;
    animation-range: cover 10% cover 35%;
    --y: 0;
    transition: .3s;
    border: 2px solid #fff0
}

section:nth-of-type(2n) {
    grid-template-columns: 1fr auto;
    grid-auto-flow: dense;
    --x: 100%
}

section:nth-of-type(2n) img {
    grid-column: 2
}

@keyframes item-reveal {
    0% {
        opacity: 0;
        translate: var(--x, 0) var(--y, 0)
    }
}

.char {
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotate(calc(var(--inner-angle) * var(--char-index))) translateY(var(--radius))
}

.fixed-description,
section::after {
    left: 50%;
    transform: translateX(-50%);
    font-weight: 700
}

@keyframes rotation {
    to {
        rotate: 720deg
    }
}

.letter {
    opacity: .1;
    transition: opacity .4s, transform .4s
}

.fixed-description {
    position: fixed;
    top: calc(50% + 180px);
    text-align: center;
    color: #ff0;
    max-width: 80ch;
    z-index: 90
}

.fixed-description p {
    transition: opacity .3s, visibility .3s
}

section::after {
    content: attr(data-word);
    bottom: 10px;
    color: #fff;
    font-size: 1.1rem;
    opacity: 0;
    transition: .3s;
    pointer-events: none
}

section:hover img {
    border: 2px solid #ff0;
    filter: brightness(1.1)
}

section:hover::after {
    opacity: 1;
    color: #ff0
}

@media (max-width:1024px) {
    :root {
        --content: 90vw
    }

    h1 {
        font-size: calc(var(--font-size-fluid-3) * 1.8)
    }

    .fixed-description {
        top: calc(50% + 150px);
        font-size: 1rem;
        max-width: 90%
    }

    section img {
        width: 160px;
        height: auto;
        max-width: 25vw;
        scale: 1.2
    }

    section p {
        font-size: .95rem;
        padding: .8rem
    }
}

@media (max-width:768px) {

    .sticky-title,
    header,
    main {
        width: 100%;
        padding: 0 1rem
    }

    h1,
    section p {
        text-align: center
    }

    body {
        overflow-x: hidden
    }

    header,
    main {
        max-width: 100%;
        margin: 0
    }

    header img {
        left: 50%;
        top: 10%;
        transform: translateX(-50%);
        width: 60%;
        opacity: .5
    }

    h1 {
        font-size: calc(var(--font-size-fluid-3) * 1.3);
        word-break: break-word
    }

    .sticky-title {
        left: 50%;
        transform: translate(-50%, -50%)
    }

    .sticky-title span {
        font-size: 2rem
    }

    .fixed-description {
        top: calc(50% + 120px);
        font-size: .9rem;
        max-width: 90%;
        padding: 0 1rem
    }

    section {
        grid-template-columns: 1fr;
        gap: 1.5rem;
        padding: 2rem 0;
        min-height: auto
    }

    section img {
        width: 70%;
        max-width: 300px;
        height: auto;
        justify-self: center;
        scale: 1
    }

    section p {
        grid-column: 1;
        background: rgb(0 0 0 / .5);
        color: #fff;
        font-size: .9rem;
        padding: 1rem;
        backdrop-filter: blur(6px);
        position: static
    }

    section::after {
        bottom: 5px;
        font-size: .9rem
    }

    .char {
        transform: translate(-50%, -50%) rotate(calc(var(--inner-angle) * var(--char-index))) translateY(calc(var(--radius) * .6))
    }
}

@media (max-width:480px) {
    h1 {
        font-size: calc(var(--font-size-fluid-3) * 1);
        line-height: 1.1
    }

    .sticky-title span {
        font-size: 1.5rem
    }

    .fixed-description {
        top: calc(50% + 100px);
        font-size: .8rem
    }

    section img {
        width: 80%;
        max-width: 240px
    }

    section p {
        font-size: .85rem;
        padding: .8rem
    }

    section::after {
        font-size: .8rem
    }
}